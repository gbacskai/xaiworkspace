<div class="home">
  <!-- Language picker -->
  <div class="lang-picker">
    <button class="lang-btn" (click)="toggleLang()">
      {{ localeLabels[i18n.locale()] }}
      <span class="lang-caret" [class.lang-caret--open]="langOpen()">▾</span>
    </button>
    @if (langOpen()) {
      <div class="lang-dropdown">
        @for (loc of locales; track loc) {
          <button
            class="lang-option"
            [class.lang-option--active]="loc === i18n.locale()"
            (click)="selectLang(loc)">
            {{ localeLabels[loc] }}
          </button>
        }
      </div>
    }
  </div>

  <!-- Hero -->
  <div class="hero">
    <img class="hero-logo" src="x.png" alt="xAI Workspace" />
    <h1>xAI Workspace</h1>
    <p class="hero-sub">
      {{ i18n.t('hero.greeting', { name: tg.userName() }) }}
    </p>
    @if (!tg.isTelegram && isMobile) {
      <a class="hero-telegram-link" href="https://t.me/xAIWorkspaceBot" target="_blank">
        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
          <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
        </svg>
        {{ i18n.t('hero.openTelegram') }}
      </a>
    }
  </div>

  @if (!tg.isTelegram && !auth.isAuthenticated()) {
    <div class="login-banner">
      <button class="login-btn" (click)="loginWithTelegram()">
        <svg class="login-icon" viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
          <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
        </svg>
        {{ i18n.t('chat.loginButton') }}
      </button>
    </div>
    <div class="invite-warning">
      <p>{{ i18n.t('hero.inviteOnly') }}</p>
    </div>
  }

  <!-- Getting Started -->
  <div class="section-header">{{ i18n.t('section.gettingStarted') }}</div>
  <div class="card-list">
    @for (article of gettingStarted(); track article.id) {
      <div class="card-item" (click)="open(article)">
        <span class="card-icon">{{ article.icon }}</span>
        <div class="card-text">
          <div class="card-title">{{ article.title }}</div>
          <div class="card-sub">{{ article.subtitle }}</div>
        </div>
        <span class="card-chevron">›</span>
      </div>
    }
  </div>

  <!-- Features -->
  <div class="section-header">{{ i18n.t('section.features') }}</div>
  <div class="card-list">
    @for (article of features(); track article.id) {
      <div class="card-item" (click)="open(article)">
        <span class="card-icon">{{ article.icon }}</span>
        <div class="card-text">
          <div class="card-title">{{ article.title }}</div>
          <div class="card-sub">{{ article.subtitle }}</div>
        </div>
        <span class="card-chevron">›</span>
      </div>
    }
  </div>

  <!-- Guides -->
  <div class="section-header">{{ i18n.t('section.guides') }}</div>
  <div class="card-list">
    @for (article of guides(); track article.id) {
      <div class="card-item" (click)="open(article)">
        <span class="card-icon">{{ article.icon }}</span>
        <div class="card-text">
          <div class="card-title">{{ article.title }}</div>
          <div class="card-sub">{{ article.subtitle }}</div>
        </div>
        <span class="card-chevron">›</span>
      </div>
    }
  </div>

  <!-- Footer -->
  <div class="footer">
    <p>{{ i18n.t('footer.company') }}</p>
    <p class="footer-links">
      <a routerLink="/privacy">{{ i18n.t('footer.privacy') }}</a>
      <span class="footer-sep"> · </span>
      <a routerLink="/terms">{{ i18n.t('footer.terms') }}</a>
      @if (!tg.isTelegram) {
        <span class="footer-sep"> · </span>
        <a class="logout-link" (click)="logout()">{{ i18n.t('footer.logout') }}</a>
      }
    </p>
  </div>
</div>
