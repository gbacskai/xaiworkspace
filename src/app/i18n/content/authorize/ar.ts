export const AUTHORIZE_AR = `
## ما هو /authorize؟

يربط أمر \`/authorize\` خدمات الأطراف الثالثة (مثل Google وGitHub وMicrosoft) بوكيل xAI Workspace الخاص بك. بعد الربط، يستطيع وكيلك التفاعل مع هذه الخدمات بالنيابة عنك.

---

## كيف يعمل

1. أرسل \`/authorize\` في محادثة xAI Workspace
2. اختر مزوّداً من الأزرار (مثلاً Google)
3. يتلقى وكيلك الطلب ويرسل لك رابط تفويض
4. انقر الرابط وسجّل الدخول إلى المزوّد ومنح الصلاحية
5. يُسلَّم الرمز المميز إلى وكيلك ويُحفظ في \`OAUTH.md\`

يستطيع وكيلك بعدها استخدام الرمز المحفوظ للوصول إلى الخدمة المرتبطة.

---

## المزوّدون المتاحون

المزوّدون التاليون متاحون مباشرةً (عند تهيئتهم من قِبَل المنصة):

| المزوّد | ما يستطيع وكيلك فعله |
|---|---|
| **Google** | الوصول إلى Google Drive وGmail وCalendar وواجهات Google API الأخرى |
| **GitHub** | قراءة وكتابة المستودعات، وإدارة المشكلات وطلبات السحب |
| **Microsoft** | الوصول إلى OneDrive وOutlook وواجهات Microsoft 365 API |

إذا لم يظهر زر مزوّد معين، فهذا يعني أنه لم يُهيَّأ بعد.

---

## تطبيقات OAuth المخصصة

يستطيع وكيلك أيضاً الاتصال بـ **أي مزوّد OAuth** باستخدام بيانات اعتماد تطبيقك الخاص. هذا مفيد عندما:

- تريد استخدام تطبيق OAuth خاص بك بدلاً من التطبيق المشترك
- تحتاج إلى الاتصال بمزوّد غير مدرج أعلاه (مثل Slack أو GitLab أو Bitbucket)
- تحتاج إلى نطاقات OAuth محددة لحالة الاستخدام الخاصة بك

### كيفية إعداد تطبيق OAuth مخصص

1. **سجّل تطبيق OAuth** لدى مزوّدك (مثلاً Google Cloud Console أو GitHub Developer Settings)

2. **اضبط URI إعادة التوجيه** على:
   \`\`\`
   https://router.xaiworkspace.com/oauth/callback
   \`\`\`

3. **أخبر وكيلك** ببيانات الاعتماد. أرسل رسالة مثل:
   > Set up OAuth for GitHub with client ID \`your-client-id\` and client secret \`your-client-secret\`

4. سيتصل وكيلك بالراوتر لإنشاء رمز الحالة وبناء رابط التفويض وإرساله إليك

5. بعد منح التفويض، يُستبدَل الرمز المميز ويُحفظ في \`OAUTH.md\` على نسخة وكيلك

### كيف يعمل خلف الكواليس

عندما يبدأ وكيلك تدفق OAuth مخصصاً، يتصل بنقطة نهاية \`/oauth/state\` في الراوتر مع \`clientId\` و\`clientSecret\` و\`tokenUrl\` المخصصة. يحتفظ الراوتر بهذه البيانات لكل عميل ويستخدمها عندما يعيد مزوّد OAuth التوجيه إلى رابط الاستدعاء.

---

## الأمان

- **أسرار تطبيق OAuth لا تغادر الراوتر أبداً** -- بالنسبة للمزوّدين العالميين، يُحفظ سرّ العميل في AWS Secrets Manager ولا يُرسَل إلى نسخة وكيلك
- **بيانات الاعتماد المخصصة تُحفظ لكل عميل** في قاعدة البيانات وتُستخدم فقط لعملية استبدال الرمز المميز الخاصة بك
- **رموز الحالة تنتهي صلاحيتها بعد 10 دقائق** للوقاية من هجمات إعادة التشغيل
- **يُحفظ الرمز المميز محلياً** على نسخة وكيلك في \`OAUTH.md\` — لا يُشارَك مع مستخدمين آخرين

---

## استكشاف الأخطاء وإصلاحها

| المشكلة | الحل |
|---|---|
| لا تظهر أزرار المزوّدين | لم تُهيِّئ المنصة أي مزوّدي OAuth بعد |
| "يجب أن يكون وكيلك قيد التشغيل" | أرسل \`/start\` لتنشيط نسختك أولاً |
| لم يصل رابط التفويض | قد يكون وكيلك مشغولاً — انتظر لحظة وأعد المحاولة |
| "انتهت صلاحية الحالة" بعد النقر على الرابط | انتهت صلاحية الرابط (10 دقائق). أعد تشغيل \`/authorize\` |
| فشل استبدال الرمز المميز | تأكد من تطابق URI إعادة التوجيه تماماً: \`https://router.xaiworkspace.com/oauth/callback\` |
`;
