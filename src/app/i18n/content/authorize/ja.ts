export const AUTHORIZE_JA = `
## /authorize とは？

\`/authorize\` コマンドは、Google、GitHub、Microsoft などのサードパーティーサービスを xAI Workspace エージェントに連携します。連携後、エージェントはこれらのサービスをあなたの代わりに操作できるようになります。

---

## 使い方

1. xAI Workspace チャットで \`/authorize\` を送信する
2. ボタンからプロバイダーを選択する（例：Google）
3. エージェントがリクエストを受け取り、認証リンクを送信する
4. リンクをクリックし、プロバイダーにサインインしてアクセスを許可する
5. トークンがエージェントに渡され、\`OAUTH.md\` に保存される

エージェントは保存されたトークンを使用して、連携したサービスにアクセスできます。

---

## 利用可能なプロバイダー

以下のプロバイダーは、プラットフォームで設定済みの場合にすぐに利用できます：

| プロバイダー | エージェントでできること |
|---|---|
| **Google** | Google Drive、Gmail、Calendar およびその他の Google API へのアクセス |
| **GitHub** | リポジトリの読み書き、Issue やプルリクエストの管理 |
| **Microsoft** | OneDrive、Outlook、Microsoft 365 API へのアクセス |

プロバイダーのボタンが表示されない場合は、まだ設定されていないことを意味します。

---

## カスタム OAuth アプリ

エージェントは、独自のアプリ認証情報を使って **任意の OAuth プロバイダー** に接続することもできます。以下のような場合に便利です：

- 共有アプリではなく、自分の OAuth アプリを使いたい
- 上記リストにないプロバイダー（例：Slack、GitLab、Bitbucket）に接続したい
- ユースケースに合わせた特定の OAuth スコープが必要

### カスタム OAuth アプリの設定方法

1. **OAuth アプリを登録する** — プロバイダー（例：Google Cloud Console、GitHub Developer Settings）でアプリを登録する

2. **リダイレクト URI を設定する**：
   \`\`\`
   https://router.xaiworkspace.com/oauth/callback
   \`\`\`

3. **エージェントに認証情報を伝える**。次のようなメッセージを送信する：
   > GitHub の OAuth を設定して。クライアント ID は \`your-client-id\`、クライアントシークレットは \`your-client-secret\`

4. エージェントがルーターを呼び出してステートトークンを生成し、認証 URL を作成してリンクを送信する

5. 認証後、トークンが交換され、エージェントのインスタンス上の \`OAUTH.md\` に保存される

### 仕組みの詳細

エージェントがカスタム OAuth フローを開始すると、カスタムの \`clientId\`、\`clientSecret\`、\`tokenUrl\` を指定してルーターの \`/oauth/state\` エンドポイントを呼び出します。ルーターはこれらをクライアントごとに保存し、OAuth プロバイダーがコールバック URL にリダイレクトしてきた際に使用します。

---

## セキュリティ

- **OAuth アプリのシークレットはルーターの外に出ません** — グローバルプロバイダーの場合、クライアントシークレットは AWS Secrets Manager に保存され、エージェントのインスタンスには送信されません
- **カスタム認証情報はクライアントごとに** データベースに保存され、あなたのトークン交換にのみ使用されます
- **ステートトークンは 10 分で失効**し、リプレイ攻撃を防ぎます
- **トークンはエージェントのインスタンス上の \`OAUTH.md\` にローカル保存**されます — 他のユーザーとは共有されません

---

## トラブルシューティング

| 問題 | 解決策 |
|---|---|
| プロバイダーのボタンが表示されない | プラットフォームでまだ OAuth プロバイダーが設定されていません |
| 「エージェントが起動している必要があります」 | まず \`/start\` を送信してインスタンスを起動してください |
| 認証リンクが届かない | エージェントが処理中の可能性があります。少し待ってから再試行してください |
| リンクをクリックすると「ステートが期限切れ」 | リンクの有効期限が切れています（10 分）。\`/authorize\` を再実行してください |
| トークン交換が失敗する | リダイレクト URI が正確に一致しているか確認してください：\`https://router.xaiworkspace.com/oauth/callback\` |
`;
