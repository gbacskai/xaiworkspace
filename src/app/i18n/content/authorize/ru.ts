export const AUTHORIZE_RU = `
## Что такое /authorize?

Команда \`/authorize\` подключает сторонние сервисы (например, Google, GitHub или Microsoft) к вашему агенту xAI Workspace. После подключения агент сможет взаимодействовать с этими сервисами от вашего имени.

---

## Как это работает

1. Отправьте \`/authorize\` в xAI Workspace-чате
2. Выберите провайдера из предложенных кнопок (например, Google)
3. Агент получает запрос и отправляет вам ссылку для авторизации
4. Перейдите по ссылке, войдите в аккаунт провайдера и предоставьте доступ
5. Токен доставляется агенту и сохраняется в файле \`OAUTH.md\`

После этого агент может использовать сохранённый токен для доступа к подключённому сервису.

---

## Доступные провайдеры

Следующие провайдеры доступны из коробки (если настроены платформой):

| Провайдер | Что может делать ваш агент |
|---|---|
| **Google** | Доступ к Google Drive, Gmail, Calendar и другим Google API |
| **GitHub** | Чтение и запись репозиториев, управление задачами и pull request'ами |
| **Microsoft** | Доступ к OneDrive, Outlook и Microsoft 365 API |

Если кнопка провайдера не отображается, значит, он ещё не настроен.

---

## Пользовательские OAuth-приложения

Ваш агент также может подключаться к **любому OAuth-провайдеру**, используя ваши собственные учётные данные приложения. Это полезно, когда вы:

- Хотите использовать своё OAuth-приложение вместо общего
- Хотите подключить провайдера, которого нет в списке выше (например, Slack, GitLab, Bitbucket)
- Нуждаетесь в определённых OAuth-scopes для вашего сценария использования

### Как настроить пользовательское OAuth-приложение

1. **Зарегистрируйте OAuth-приложение** у вашего провайдера (например, в Google Cloud Console или в настройках разработчика GitHub)

2. **Укажите redirect URI**:
   \`\`\`
   https://router.xaiworkspace.com/oauth/callback
   \`\`\`

3. **Сообщите агенту** учётные данные. Отправьте сообщение вида:
   > Настрой OAuth для GitHub с client ID \`your-client-id\` и client secret \`your-client-secret\`

4. Агент вызовет роутер для генерации state-токена, сформирует URL авторизации и отправит вам ссылку

5. После авторизации токен будет получен в обмен и сохранён в \`OAUTH.md\` на экземпляре вашего агента

### Как это работает под капотом

Когда агент инициирует пользовательский OAuth-поток, он вызывает эндпоинт роутера \`/oauth/state\`, передавая ваши \`clientId\`, \`clientSecret\` и \`tokenUrl\`. Роутер сохраняет эти данные для каждого клиента отдельно и использует их, когда OAuth-провайдер перенаправляет запрос обратно на callback URL.

---

## Безопасность

- **Секреты OAuth-приложений никогда не покидают роутер** — для глобальных провайдеров client secret хранится в AWS Secrets Manager и никогда не передаётся на экземпляр вашего агента
- **Пользовательские учётные данные хранятся отдельно для каждого клиента** в базе данных и используются только для обмена вашего токена
- **State-токены действуют 10 минут** для защиты от атак воспроизведения
- **Токены сохраняются локально** на экземпляре вашего агента в файле \`OAUTH.md\` — они не передаются другим пользователям

---

## Устранение неполадок

| Проблема | Решение |
|---|---|
| Кнопки провайдеров не появляются | Платформа ещё не настроила OAuth-провайдеров |
| «Your agent must be running» | Отправьте \`/start\`, чтобы сначала запустить ваш экземпляр |
| Ссылка для авторизации не приходит | Агент может быть занят — подождите немного и попробуйте снова |
| «State expired» при переходе по ссылке | Ссылка истекла (10 мин). Запустите \`/authorize\` заново |
| Ошибка обмена токена | Убедитесь, что redirect URI указан точно: \`https://router.xaiworkspace.com/oauth/callback\` |
`;
